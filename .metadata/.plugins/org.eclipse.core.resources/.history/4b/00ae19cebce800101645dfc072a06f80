package br.uff.tempo.nanicolina.csr;

import java.io.FileWriter;
import java.io.IOException;
import java.util.Scanner;

import com.google.gson.Gson;

public class CSRMain {

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		/*
		CSRClient cc = new CSRClient("localhost",10006);
		
		cc.sendStatus("OK!");
		System.out.println("Feito!");
		*/
		ApplicationManager appManag = new ApplicationManager();
		appManag.initDevices();
		Scanner input = new Scanner(System.in);
		System.out.println("Digite aqui para registrar um dispositivo: (digite 0 pra cancelar)");
		String regId= input.nextLine();
		if (!regId.equals("0"))
			appManag.registerDevice(regId);
		System.out.println("Digite aqui as configurações do dispositivo "+ regId+":");
		appManag.setAttributes(regId);
		Gson gson = new Gson();
	    
		// convert java object to JSON format,
		// and returned as JSON formatted string
		String json = gson.toJson(obj);
	 	 
		System.out.println(json);
		
		Gson gson2 = new Gson();
		
	
	
		DataObject obj2 = gson2.fromJson(json, DataObject.class);
 
		System.out.println(obj2);
 
		
	}

}
